<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Cineplanet - Inicio</title>
    <link rel="icon" type="image/png" href="logonav1.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"><!-- Añadido para responsividad -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f5f5f5;
            margin: 0;
            padding: 0;
        }
        header {
            background: #16213e;
            color: #fff;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 1.5rem;
            position: relative;
            z-index: 10;
        }
        header div {
            display: flex;
            align-items: center;
        }
        header img {
            height: 40px;
            margin-right: 1rem;
        }
        nav {
            display: flex;
            align-items: center;
            justify-content: center;
            flex: 1;
        }
        nav a {
            color: #fff;
            text-decoration: none;
            margin: 0 1.5rem;
            font-weight: 500;
            font-size: 1.15rem;
            text-transform: none;
            letter-spacing: 0.5px;
            position: relative;
            padding: 0.2rem 0.9rem;
            transition: color 0.2s, background 0.2s, border-radius 0.2s;
            border-radius: 8px;
        }
        nav a:hover,
        nav a.active {
            color: #fff;
            background: #e94560;
            border-radius: 8px;
        }
        nav a.active::after,
        nav a:hover::after {
            content: none;
        }
        .perfil-box {
            background: transparent;
            color: #fff;
            padding: 0.7rem 1.5rem;
            border-radius: 50px;
            font-weight: 500;
            font-size: 1.05rem;
            display: flex;
            align-items: center;
            min-width: 120px;
            justify-content: center;
            letter-spacing: 0.5px;
            border: 1.5px solid #fff;
            transition: background 0.2s, color 0.2s, border-color 0.2s;
            cursor: pointer;
        }
        .perfil-box:hover {
            background: #e94560;
            color: #fff;
            border-color: #e94560;
        }
        .container {
            max-width: 1200px;
            margin: 2rem auto;
            background: #fff;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.08);
        }
        h1, h2 {
            color: #b00;
        }
        .peliculas, .cartelera, .snacks, .reservas, .perfil, .admin {
            margin-bottom: 2rem;
        }
        .peliculas {
            display: flex;
            flex-wrap: wrap;
            gap: 1.5rem;
            justify-content: flex-start;
        }
        .pelicula {
            width: 200px;
            min-width: 160px;
            margin: 0;
            vertical-align: top;
            text-align: center;
            background: #f8f8f8;
            border-radius: 8px;
            box-shadow: 0 1px 4px rgba(0,0,0,0.06);
            padding: 1rem 0.5rem;
            flex: 1 1 200px;
            max-width: 220px;
            position: relative;
            overflow: visible;
            transition: box-shadow 0.3s, transform 0.3s;
        }
        .pelicula img {
            width: 180px;
            height: 260px;
            object-fit: cover;
            border-radius: 8px;
            display: block;
            margin: 0 auto;
            animation: imgBounceIn 1s cubic-bezier(.39,.575,.565,1.000) both, imgFloat 3s ease-in-out infinite 1s;
            transition: transform 0.3s cubic-bezier(.39,.575,.565,1.000), box-shadow 0.3s;
            box-shadow: 0 4px 24px rgba(0,230,251,0.10);
        }
        .snacks > div {
            display: flex;
            flex-wrap: wrap;
            gap: 1.5rem;
        }
        .snack {
            width: 150px;
            min-width: 120px;
            text-align: center;
            background: #f8f8f8;
            border-radius: 8px;
            box-shadow: 0 1px 4px rgba(0,0,0,0.06);
            padding: 1rem 0.5rem;
            flex: 1 1 120px;
            max-width: 160px;
        }
        .snack img {
            width: 100px;
            border-radius: 8px;
            animation: imgBounceIn 1s cubic-bezier(.39,.575,.565,1.000) both, imgFloat 3s ease-in-out infinite 1s;
            transition: transform 0.3s cubic-bezier(.39,.575,.565,1.000), box-shadow 0.3s;
            box-shadow: 0 4px 24px rgba(0,230,251,0.10);
        }
        .btn {
            background: #b00;
            color: #fff;
            border: none;
            border-radius: 4px;
            padding: 0.5rem 1.2rem;
            cursor: pointer;
            margin-left: 1.5rem;
            margin-top: 0;
            font-weight: bold;
            font-size: 1rem;
            transition: background 0.2s, box-shadow 0.2s;
            box-shadow: 0 2px 6px rgba(0,0,0,0.08);
        }
        .btn:hover, .btn:focus {
            background: #e94560;
            color: #fff;
            outline: none;
        }
        /* Si quieres que el botón de cerrar sesión tenga un color diferente al resto, puedes usar: */
        #cerrar-sesion {
            background: #fff;
            color: #b00;
            border: 2px solid #b00;
            transition: background 0.2s, color 0.2s, border 0.2s;
        }
        #cerrar-sesion:hover, #cerrar-sesion:focus {
            background: #b00;
            color: #fff;
            border: 2px solid #b00;
            outline: none;
        }
        form input, form select, form button {
            width: 100%;
            max-width: 400px;
            margin-bottom: 1rem;
            padding: 0.6rem;
            border-radius: 4px;
            border: 1px solid #ccc;
            font-size: 1rem;
            box-sizing: border-box;
        }
        form label {
            font-weight: 500;
            margin-bottom: 0.3rem;
            display: block;
        }
        form button {
            width: auto;
            margin-left: 0;
        }
        footer {
            background: #16213e;
            color: #fff;
            padding: 2.5rem 0 1rem 0;
            margin-top: 2rem;
        }
        footer h3 {
            margin-bottom: 1rem;
        }
        footer ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        footer ul li {
            margin-bottom: 0.5rem;
        }
        footer .social-icons a,
        footer .app-download i {
            color: #fff;
            margin: 0 0.5rem;
            font-size: 1.3rem;
        }
        footer .divider {
            border-top: 3px solid #e94560;
            margin: 2rem 0 1rem 0;
        }
        footer .credits {
            text-align: center;
            color: #ccc;
            font-size: 0.95rem;
            margin-top: 0.5rem;
        }
        /* RESPONSIVIDAD */
        @media (max-width: 1100px) {
            .container {
                max-width: 98vw;
                padding: 1.2rem;
            }
            .peliculas, .snacks > div {
                gap: 1rem;
            }
        }
        @media (max-width: 900px) {
            header {
                flex-direction: column;
                align-items: flex-start;
                padding: 1rem 1rem;
                gap: 0.5rem;
            }
            nav {
                width: 100%;
                justify-content: flex-start;
                margin-top: 0.5rem;
                flex-wrap: wrap;
            }
            nav a {
                margin: 0 0.7rem 0.5rem 0;
                font-size: 1rem;
            }
            .perfil-box {
                margin-top: 0.5rem;
                min-width: 100px;
                padding: 0.6rem 1rem;
                font-size: 0.98rem;
            }
            .peliculas-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        @media (max-width: 700px) {
            .container {
                padding: 0.7rem;
            }
            .peliculas, .snacks > div {
                flex-direction: column;
                gap: 0.7rem;
            }
            .pelicula, .snack {
                max-width: 100%;
                width: 100%;
                min-width: 0;
                margin: 0 auto;
            }
            .pelicula img, .snack img {
                max-width: 180px;
                margin: 0 auto;
            }
            .peliculas-grid {
                grid-template-columns: 1fr;
            }
        }
        @media (max-width: 500px) {
            header {
                flex-direction: column;
                align-items: flex-start;
                padding: 0.7rem 0.3rem;
                gap: 0.2rem;
            }
            .container {
                margin: 1rem 0.2rem;
                padding: 0.4rem;
            }
            h1, h2 {
                font-size: 1.1rem;
            }
            .pelicula img, .snack img {
                max-width: 120px;
            }
            .btn, .btn#cerrar-sesion {
                font-size: 0.95rem;
                padding: 0.4rem 0.7rem;
                margin-left: 0;
            }
            form input, form select {
                font-size: 0.98rem;
                padding: 0.5rem;
            }
            footer > div,
            footer > .divider,
            footer > .credits {
                padding-left: 0.5rem;
                padding-right: 0.5rem;
            }
            footer {
                padding: 1.2rem 0 0.7rem 0;
            }
        }
        @media (max-width: 400px) {
            .perfil-box {
                font-size: 0.85rem;
                padding: 0.4rem 0.7rem;
            }
            nav a {
                font-size: 0.92rem;
                padding: 0.15rem 0.5rem;
            }
        }
        /* Animación de entrada y rebote para imágenes de películas y snacks */
        @keyframes imgBounceIn {
            0% {
                opacity: 0;
                transform: scale(0.7) translateY(-60px);
            }
            60% {
                opacity: 1;
                transform: scale(1.08) translateY(12px);
            }
            80% {
                transform: scale(0.96) translateY(-6px);
            }
            100% {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }
        @keyframes imgFloat {
            0%, 100% { transform: translateY(0) scale(1);}
            50% { transform: translateY(-8px) scale(1.03);}
        }
        /* Efecto zoom al pasar el mouse */
        .pelicula img:hover, .snack img:hover,
        .pelicula img.img-zoom, .snack img.img-zoom {
            transform: scale(1.10) rotate(-2deg) translateY(-8px);
            box-shadow: 0 8px 32px #00e6fb33, 0 0 32px #e9456033;
        }
        .peliculas-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 0.7rem; /* Menor separación entre las tarjetas */
            justify-items: center;
        }
        @media (max-width: 900px) {
            .peliculas-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 0.6rem;
            }
        }
        @media (max-width: 600px) {
            .peliculas-grid {
                grid-template-columns: 1fr;
                gap: 0.5rem;
            }
        }
        /* Estilos para resaltar la tarjeta y mostrar los botones sobre la imagen */
        .pelicula {
            position: relative;
            overflow: visible;
            transition: box-shadow 0.3s, transform 0.3s;
        }
        .pelicula.resaltada {
            z-index: 10;
            box-shadow: 0 8px 32px #00539b55, 0 0 32px #e9456055;
            transform: scale(1.04);
        }
        .pelicula .botones-sobre-img {
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            flex-direction: column;
            gap: 0.7rem;
            z-index: 20;
        }
        .pelicula.resaltada .botones-sobre-img {
            display: flex;
        }
        .pelicula .botones-sobre-img .btn {
            min-width: 120px;
            font-size: 1rem;
            box-shadow: 0 2px 8px #0002;
            opacity: 0.97;
        }
        .pelicula .pelicula-img-oscura {
            filter: brightness(0.6) blur(0.5px);
            transition: filter 0.2s;
        }
        .pelicula.resaltada img {
            filter: brightness(0.6) blur(0.5px);
        }
        @keyframes resumenFadeIn {
          0% { opacity:0; transform:scale(0.95) translateY(30px);}
          100% { opacity:1; transform:scale(1) translateY(0);}
        }
        @keyframes salaBlink {
          0%,100% { color:#e94560; background:none;}
          50% { color:#fff; background:#e94560; }
        }
        .cartelera-slider {
          display: flex;
          overflow-x: auto;
          scroll-snap-type: x mandatory;
          gap: 2vw;
          padding: 1vw 2vw 2vw 2vw;
          box-sizing: border-box;
        }
        .cartelera-slide {
          min-width: 80vw;
          max-width: 90vw;
          height: 340px;
          background: #222;
          border-radius: 18px;
          overflow: hidden;
          position: relative;
          display: flex;
          align-items: flex-end;
          scroll-snap-align: start;
          box-shadow: 0 4px 32px #0003;
        }
        .cartelera-slide img {
          width: 100%;
          height: 100%;
          object-fit: cover;
          position: absolute;
          left: 0; top: 0;
          z-index: 1;
          filter: brightness(0.65);
        }
        .cartelera-info {
          position: relative;
          z-index: 2;
          color: #fff;
          padding: 2.5rem 2rem 2rem 2rem;
          max-width: 60%;
        }
        .cartelera-info h3 {
          font-size: 2.3rem;
          margin: 0 0 0.7rem 0;
          background: #e94560;
          display: inline-block;
          padding: 0.2em 0.7em;
          border-radius: 8px;
        }
        .cartelera-info p {
          font-size: 1.15rem;
          margin-bottom: 1.2rem;
        }
        .cartelera-info .btn {
          background: #e94560;
          color: #fff;
          font-size: 1.1rem;
          border-radius: 2rem;
          padding: 0.7rem 2.2rem;
          border: none;
          cursor: pointer;
          box-shadow: 0 2px 8px #e9456022;
          transition: background 0.2s;
        }
        .cartelera-info .btn:hover {
          background: #00539b;
        }
        @media (max-width: 900px) {
          .cartelera-slide {
            min-width: 98vw;
            height: 220px;
          }
          .cartelera-info {
            padding: 1.2rem 1rem 1rem 1rem;
            max-width: 90%;
          }
          .cartelera-info h3 {
            font-size: 1.2rem;
          }
        }
    </style>
</head>
<body>
<canvas id="fondo-animado" style="position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:-1;"></canvas>
    <header>
        <div style="display: flex; align-items: center;">
            <a href="#" id="logo-btn" style="border:none; background:none; padding:0; cursor:pointer;">
                <img src="logo_header.jpg" alt="Logo Cineplanet" style="height:40px; margin-right: 1rem;">
            </a>
        </div>
        <nav>
            <!-- <a href="#cartelera" class="active">CARTELERA</a> -->
            <a href="#peliculas">PELÍCULAS</a>
            <a href="#reservas">RESERVAS</a>
            <a href="#snacks">SNACKS</a>
            <a href="#admin">ADMINISTRACIÓN</a>
        </nav>
        <div class="perfil-box">
            MI PERFIL
        </div>
        <button id="cerrar-sesion" class="btn">Cerrar sesión</button>
    </header>
    <div class="container">
        <section id="cartelera" class="cartelera">
            <h2 style="margin-left:2vw;">Cartelera</h2>
            <div class="cartelera-slider">
                <div class="cartelera-slide">
                    <img src="misionimposibleorizontal.jpg" alt="Misión Imposible">
                    <div class="cartelera-info">
                        <h3>Misión Imposible Sentencia Final</h3>
                        <p>La octava entrega de la franquicia Misión Imposible.</p>
                        <button class="btn btn-comprar">Comprar</button>
                    </div>
                </div>
                <div class="cartelera-slide">
                    <img src="lilostitchorizontal.jpeg" alt="Lilo y Stitch">
                    <div class="cartelera-info">
                        <h3>Lilo y Stitch</h3>
                        <p>Remake de acción real del clásico animado de Disney.</p>
                        <button class="btn btn-comprar">Comprar</button>
                    </div>
                </div>
                <div class="cartelera-slide">
                    <img src="imageorizontal.png" alt="Destino Final">
                    <div class="cartelera-info">
                        <h3>Destino Final</h3>
                        <p>Un grupo de jóvenes escapa de la muerte, pero esta los persigue uno a uno.</p>
                        <button class="btn btn-comprar">Comprar</button>
                    </div>
                </div>
                <!-- Agrega más slides aquí -->
            </div>
        </section>
        <section id="peliculas" style="display:none;">
            <h2>Películas</h2>
            <div class="peliculas-grid">
                <div class="pelicula">
                    <img src="liloystitch.jpg" alt="Lilo y Stitch">
                    <h3>Lilo y Stitch</h3>
                    <p>Familiar | 140 min</p>
                    <div class="botones-sobre-img">
                        <button class="btn btn-comprar">Comprar</button>
                        <button class="btn btn-detalles" style="background:#113cfc;">Ver Detalles</button>
                    </div>
                </div>
                <div class="pelicula">
                    <img src="misionimposible.jpg" alt="Misión Imposible">
                    <h3>Misión Imposible</h3>
                    <p>Acción | 2h 51min | +14</p>
                    <div class="botones-sobre-img">
                        <button class="btn btn-comprar">Comprar</button>
                        <button class="btn btn-detalles" style="background:#113cfc;">Ver Detalles</button>
                    </div>
                </div>
                <div class="pelicula">
                    <img src="destinofinal.jpg" alt="Destino Final">
                    <h3>Destino Final</h3>
                    <p>Terror | 149 min</p>
                    <div class="botones-sobre-img">
                        <button class="btn btn-comprar">Comprar</button>
                        <button class="btn btn-detalles" style="background:#113cfc;">Ver Detalles</button>
                    </div>
                </div>
                <div class="pelicula">
                    <img src="28añosdespues.jpg" alt="28 Años Despues">
                    <h3>28 Años Despues</h3>
                    <p>Accion - Terror | 110 min</p>
                    <div class="botones-sobre-img">
                        <button class="btn btn-comprar">Comprar</button>
                        <button class="btn btn-detalles" style="background:#113cfc;">Ver Detalles</button>
                    </div>
                </div>
                <div class="pelicula">
                    <img src="karatekid.jpg" alt="Karate Kid">
                    <h3>Karate Kid</h3>
                    <p>Acción | 1h 53min | ATP</p>
                    <div class="botones-sobre-img">
                        <button class="btn btn-comprar">Comprar</button>
                        <button class="btn btn-detalles" style="background:#113cfc;">Ver Detalles</button>
                    </div>
                </div>
                <div class="pelicula">
                    <img src="elamateour.jpg" alt="El Amateour">
                    <h3>El Amateour</h3>
                    <p>Drama | 1h 40min | +14</p>
                    <div class="botones-sobre-img">
                        <button class="btn btn-comprar">Comprar</button>
                        <button class="btn btn-detalles" style="background:#113cfc;">Ver Detalles</button>
                    </div>
                </div>
                <div class="pelicula">
                    <img src="thunderbolts.jpg" alt="Thunderbolts">
                    <h3>Thunderbolts</h3>
                    <p>Acción | 2h 10min | +14</p>
                    <div class="botones-sobre-img">
                        <button class="btn btn-comprar">Comprar</button>
                        <button class="btn btn-detalles" style="background:#113cfc;">Ver Detalles</button>
                    </div>
                </div>
                <div class="pelicula">
                    <img src="minecraft.jpg" alt="Minicraft">
                    <h3>Minicraft</h3>
                    <p>Aventura | 1h 45min | ATP</p>
                    <div class="botones-sobre-img">
                        <button class="btn btn-comprar">Comprar</button>
                        <button class="btn btn-detalles" style="background:#113cfc;">Ver Detalles</button>
                    </div>
                </div>
                <div class="pelicula">
                    <img src="leyendadeochi.jpg" alt="La Leyenda de Ochi">
                    <h3>La Leyenda de Ochi</h3>
                    <p>Fantasía | 2h | ATP</p>
                    <div class="botones-sobre-img">
                        <button class="btn btn-comprar">Comprar</button>
                        <button class="btn btn-detalles" style="background:#113cfc;">Ver Detalles</button>
                    </div>
                </div>
            </div>
        </section>
        <section id="reservas" class="reservas" style="display:none;">
            <h2>Reservas</h2>
            <form>
                <label for="pelicula">Película:</label>
                <select id="pelicula" name="pelicula">
                    <option value="liloystitch">Lilo y Stitch</option>
                    <option value="misionimposible">Misión Imposible</option>
                    <option value="destinofinal">Destino Final</option>
                </select>
                <label for="fecha">Fecha:</label>
                <input type="date" id="fecha" name="fecha">
                <label for="hora">Hora:</label>
                <select id="hora" name="hora">
                    <option>15:00</option>
                    <option>18:00</option>
                    <option>21:00</option>
                </select>
                <label for="asientos">Asientos:</label>
                <input type="number" id="asientos" name="asientos" min="1" max="10" value="1">
                <button class="btn" type="submit">Reservar</button>
            </form>
        </section>
        <section id="snacks" class="snacks" style="display:none;">
            <h2>Snacks y Bebidas</h2>
            <div>
                <div class="snack">
                    <img src="https://via.placeholder.com/100?text=Palomitas" alt="Palomitas">
                    <p>Palomitas</p>
                    <button class="btn">Agregar</button>
                </div>
                <div class="snack">
                    <img src="https://via.placeholder.com/100?text=Refresco" alt="Refresco">
                    <p>Refresco</p>
                    <button class="btn">Agregar</button>
                </div>
                <div class="snack">
                    <img src="https://via.placeholder.com/100?text=Nachos" alt="Nachos">
                    <p>Nachos</p>
                    <button class="btn">Agregar</button>
                </div>
            </div>
        </section>
        <section id="perfil" class="perfil" style="display:none;">
            <h2>Mi Perfil</h2>
            <p>Nombre: <span id="nombre-usuario">Usuario</span></p>
            <p>Email: <span id="correo-usuario">correo@ejemplo.com</span></p>
            <p>Historial de reservas:</p>
            <ul>
                <li>Película 1 - 15/05/2025 - 18:00 - 2 asientos</li>
                <li>Película 2 - 10/05/2025 - 21:00 - 1 asiento</li>
            </ul>
            <button class="btn">Editar Perfil</button>
        </section>
        <section id="admin" class="admin" style="display:none;">
            <h2>Administración</h2>
            <ul>
                <li>Gestión de películas</li>
                <li>Gestión de horarios</li>
                <li>Gestión de salas</li>
                <li>Gestión de usuarios</li>
                <li>Reportes de ventas</li>
                <li>Promociones y descuentos</li>
            </ul>
            <button class="btn">Ir al Panel de Administración</button>
        </section>
        <section id="detalle-pelicula" style="display:none;">
            <div style="background:#00539b; color:#fff; padding:2rem 1rem 1.5rem 1rem; border-radius:10px 10px 0 0;">
                <div style="display:flex; align-items:center; justify-content:space-between;">
                    <div>
                        <h1 id="detalle-titulo" style="font-size:2.3rem; margin-bottom:0.2rem;">Título</h1>
                        <div id="detalle-info" style="font-size:1.2rem;">Género | Duración | Clasificación</div>
                    </div>
                    <button id="detalle-comprar" class="btn" style="background:#e94560; border-radius:2rem; font-size:1.1rem; padding:0.7rem 2.2rem;">
                        <i class="fa fa-ticket-alt"></i> Comprar
                    </button>
                </div>
            </div>
            <div style="display:flex; flex-wrap:wrap; background:#fafbfc; border-radius:0 0 10px 10px; box-shadow:0 4px 24px #0001; padding:2.5rem 1.5rem;">
                <div style="flex:1; min-width:320px; max-width:400px; display:flex; justify-content:center;">
                    <img id="detalle-img" src="" alt="Poster" style="width:320px; border-radius:10px; box-shadow:0 8px 32px #0002;">
                </div>
                <div style="flex:2; min-width:300px; margin-left:2.5rem;">
                    <h2 style="color:#00539b; font-size:2.2rem; margin-bottom:1rem;">Sinopsis.</h2>
                    <p id="detalle-sinopsis" style="font-size:1.15rem; color:#222;">Sinopsis aquí...</p>
                    <div style="margin-top:2rem;">
                        <b>Director</b><br>
                        <span id="detalle-director">-</span>
                    </div>
                    <div style="margin-top:1.2rem;">
                        <b>Idioma</b><br>
                        <button class="btn" style="background:#fff; color:#00539b; border:1.5px solid #00539b; margin-right:0.7rem;">SUBTITULADA</button>
                        <button class="btn" style="background:#fff; color:#00539b; border:1.5px solid #00539b;">DOBLADA</button>
                    </div>
                    <div style="margin-top:1.2rem;">
                        <b>Disponible</b><br>
                        <span id="detalle-formatos">REGULAR, 3D, 2D, PRIME, XTREME</span>
                    </div>
                    <button class="btn" style="margin-top:2rem;" onclick="cerrarDetallePelicula()">Cerrar</button>
                </div>
            </div>
        </section>
    </div>
    <footer>
        <div style="max-width: 1200px; margin: auto; display: flex; flex-wrap: wrap; justify-content: space-between;">
            <div style="flex: 1; min-width: 220px; margin-bottom: 1.5rem;">
                <h3 style="margin-bottom: 1rem;">Nosotros</h3>
                <ul style="list-style: none; padding: 0; margin: 0;">
                    <li>Conócenos</li>
                    <li>Trabaja con nosotros</li>
                    <li>Ventas Corporativas</li>
                    <li>Memoria de Gestión de Sostenibilidad 2023</li>
                </ul>
                <img src="https://cdn.cineplanet.com.pe/images/huella-carbono.png" alt="Huella de Carbono" style="margin-top:1rem; width:110px;">
            </div>
            <div style="flex: 1; min-width: 220px; margin-bottom: 1.5rem;">
                <h3 style="margin-bottom: 1rem;">Atención al cliente</h3>
                <ul style="list-style: none; padding: 0; margin: 0;">
                    <li>Ver mi boleta electrónica</li>
                    <li>Ver lista de productos permitidos</li>
                </ul>
                <button style="margin: 1rem 0; background: none; color: #fff; border: 1.5px solid #fff; border-radius: 8px; padding: 0.5rem 1rem; cursor: pointer;">
                    <i class="fa fa-envelope"></i> Atención de Consultas o Incidencias por Contáctanos.
                </button>
                <div>
                    <img src="https://cdn.cineplanet.com.pe/images/libro-reclamaciones.png" alt="Libro de Reclamaciones" style="width:120px;">
                </div>
            </div>
            <div style="flex: 1; min-width: 220px; margin-bottom: 1.5rem;">
                <h3 style="margin-bottom: 1rem;">Políticas y condiciones</h3>
                <ul style="list-style: none; padding: 0; margin: 0;">
                    <li>Política de SST</li>
                    <li>Política de Sostenibilidad</li>
                    <li>Política de Diversidad e Inclusión</li>
                    <li>Política de Privacidad</li>
                    <li>Condiciones de uso y seguridad</li>
                    <li>Reglas de Convivencia</li>
                    <li>Términos y condiciones</li>
                </ul>
            </div>
        </div>
        <div style="border-top: 3px solid #e94560; margin: 2rem 0 1rem 0;"></div>
        <div style="display: flex; flex-wrap: wrap; justify-content: space-between; align-items: center; max-width: 1200px; margin: auto;">
            <div style="font-size: 1rem; margin-bottom: 0.5rem;">
                Síguenos en :
                <a href="#" style="color:#fff; margin:0 0.5rem;"><i class="fab fa-facebook-f"></i></a>
                <a href="#" style="color:#fff; margin:0 0.5rem;"><i class="fab fa-x-twitter"></i></a>
                <a href="#" style="color:#fff; margin:0 0.5rem;"><i class="fab fa-youtube"></i></a>
                <a href="#" style="color:#fff; margin:0 0.5rem;"><i class="fab fa-instagram"></i></a>
            </div>
            <div style="font-size: 1rem; margin-bottom: 0.5rem;">
                Descarga la app:
                <i class="fab fa-google-play" style="font-size:1.3rem; margin-left:0.5rem;"></i>
                <i class="fab fa-apple" style="font-size:1.3rem; margin-left:0.5rem;"></i>
            </div>
        </div>
        <div style="text-align:center; color:#ccc; font-size:0.95rem; margin-top:0.5rem;">
            &copy; 2025 Cineplanet. Todos los derechos reservados.
        </div>
    </footer>
    <!-- Modal de compra de entradas -->
    <div id="modal-compra" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:#0008; z-index:9999; align-items:center; justify-content:center;">
      <div id="modal-contenido" style="background:#fff; border-radius:12px; max-width:700px; width:95vw; padding:2rem; position:relative;">
        <button id="cerrar-modal-compra" style="position:absolute; top:1rem; right:1rem; background:none; border:none; font-size:1.5rem; cursor:pointer;">&times;</button>
        <div id="paso-funciones">
          <h2>Selecciona una función</h2>
          <div id="funciones-lista"></div>
          <button id="btn-siguiente-funcion" class="btn" style="margin-top:1.5rem;" disabled>Siguiente</button>
        </div>
        <div id="paso-asientos" style="display:none;">
          <h2>Selecciona tus asientos</h2>
          <div id="asientos-container" style="overflow-x:auto; margin-bottom:1rem;"></div>
          <div style="margin-bottom:1rem;">
            <span style="color:#888; margin-right:1.5rem;"><span style="display:inline-block;width:18px;height:18px;border-radius:50%;border:2px solid #00539b;vertical-align:middle;margin-right:4px;"></span> Disponible</span>
            <span style="color:#e94560; margin-right:1.5rem;"><span style="display:inline-block;width:18px;height:18px;border-radius:50%;background:#e94560;vertical-align:middle;margin-right:4px;"></span> Ocupada</span>
            <span style="color:#00539b; margin-right:1.5rem;"><span style="display:inline-block;width:18px;height:18px;border-radius:50%;background:#00539b;vertical-align:middle;margin-right:4px;"></span> Seleccionada</span>
            <span style="color:#00539b;"><i class="fa fa-wheelchair"></i> Silla de ruedas</span>
          </div>
          <button id="btn-confirmar-compra" class="btn" disabled>Confirmar compra</button>
        </div>
        <div id="paso-resumen" style="display:none;">
          <h2 style="color:#e94560; text-align:center; margin-bottom:1.2rem;">
            <i class="fa fa-ticket-alt" style="color:#00539b; margin-right:0.5rem;"></i>
            Resumen de tu compra
          </h2>
          <div id="resumen-contenido" style="
            display:flex;
            align-items:center;
            gap:2rem;
            margin-bottom:1.5rem;
            background:linear-gradient(90deg,#f8f8f8 60%,#e94560 120%);
            border-radius:18px;
            box-shadow:0 4px 24px #e9456022;
            padding:1.5rem 1.2rem;
            border:2.5px solid #e94560;
            animation: resumenFadeIn 0.7s cubic-bezier(.39,.575,.565,1.000);
          ">
            <img id="resumen-img" src="" alt="Poster" style="width:120px;border-radius:12px;box-shadow:0 4px 16px #00539b33;">
            <div style="flex:1;">
              <div style="margin-bottom:0.7rem;font-size:1.1rem;">
                <b style="color:#00539b;"><i class="fa fa-film"></i> Película:</b>
                <span id="resumen-titulo" style="color:#222;"></span>
              </div>
              <div style="margin-bottom:0.7rem;">
                <b style="color:#00539b;"><i class="fa fa-tags"></i> Género:</b>
                <span id="resumen-genero" style="color:#222;"></span>
              </div>
              <div style="margin-bottom:0.7rem;">
                <b style="color:#00539b;"><i class="fa fa-calendar-alt"></i> Función:</b>
                <span id="resumen-funcion" style="color:#222;"></span>
              </div>
              <div style="margin-bottom:0.7rem;">
                <b style="color:#00539b;"><i class="fa fa-door-open"></i> Sala:</b>
                <span id="resumen-sala" style="color:#e94560;font-weight:bold;font-size:1.15rem;"></span>
              </div>
              <div style="margin-bottom:0.7rem;">
                <b style="color:#00539b;"><i class="fa fa-chair"></i> Asientos:</b>
                <span id="resumen-asientos" style="color:#222;"></span>
              </div>
            </div>
          </div>
          <button id="btn-confirmar-pago" class="btn" style="
            background:linear-gradient(90deg,#00539b 60%,#e94560 120%);
            color:#fff;
            font-size:1.15rem;
            border-radius:30px;
            padding:0.7rem 2.5rem;
            box-shadow:0 2px 8px #e9456022;
            display:block;
            margin:0 auto;
            transition:background 0.2s,transform 0.2s;
          ">
            <i class="fa fa-credit-card"></i> Ir a pago
          </button>
        </div>
        <div id="paso-pago" style="display:none;">
          <h2 style="color:#00539b; text-align:center; margin-bottom:1.2rem;">
            <i class="fa fa-credit-card"></i> Selecciona método de pago
          </h2>
          <div style="display:flex; flex-wrap:wrap; gap:2rem; justify-content:center;">
            <button id="pago-yape" class="btn" style="background:#6f2cff;"><img src="yapeplinicon.png" alt="Yape" style="height:28px;vertical-align:middle;margin-right:0.7rem;">Yape/Plin</button>
            <button id="pago-tarjeta" class="btn" style="background:#00539b;"><i class="fa fa-credit-card" style="margin-right:0.7rem;"></i>Tarjeta de crédito</button>
          </div>
          <div id="contenedor-yape" style="display:none; text-align:center; margin-top:2rem;">
            <p>Escanea el código QR con tu app Yape o Plin:</p>
            <img src="yapeplin.png" alt="QR Yape/Plin" style="width:260px; border-radius:16px; box-shadow:0 4px 16px #0002;">
            <p style="margin-top:1rem; color:#888;">Luego de pagar, recibirás la confirmación en tu correo.</p>
          </div>
          <form id="form-tarjeta" style="display:none; margin-top:2rem; max-width:350px; margin-left:auto; margin-right:auto;">
            <label for="num-tarjeta">Número de tarjeta</label>
            <input type="text" id="num-tarjeta" maxlength="19" placeholder="1234 5678 9012 3456" required pattern="[0-9]{4} [0-9]{4} [0-9]{4} [0-9]{4}">
            <label for="nombre-tarjeta">Nombre en la tarjeta</label>
            <input type="text" id="nombre-tarjeta" maxlength="40" placeholder="Como aparece en la tarjeta" required>
            <div style="display:flex; gap:1rem;">
              <div style="flex:1;">
                <label for="vencimiento">Vencimiento</label>
                <input type="text" id="vencimiento" maxlength="5" placeholder="MM/AA" required pattern="\d{2}/\d{2}">
              </div>
              <div style="flex:1;">
                <label for="cvv">CVV</label>
                <input type="password" id="cvv" maxlength="4" placeholder="123" required pattern="\d{3,4}">
              </div>
            </div>
            <button type="submit" class="btn" style="margin-top:1.2rem; width:100%;">Pagar</button>
          </form>
        </div>
      </div>
    </div>

    <script>
        // Redirige al login si no hay sesión activa
        if (!localStorage.getItem('correo')) {
            window.location.href = "login.html";
        }
    </script>
    <script>
        // Obtener datos del usuario desde localStorage y mostrarlos en el perfil
        document.addEventListener("DOMContentLoaded", function() {
            const nombreUsuario = localStorage.getItem("usuario") || "Usuario";
            document.getElementById("nombre-usuario").textContent = nombreUsuario;
            const correoUsuario = localStorage.getItem("correo") || "correo@ejemplo.com";
            document.getElementById("correo-usuario").textContent = correoUsuario;

            // Cerrar sesión
            // Si tienes un botón de cerrar sesión, descomenta la siguiente línea y agrega el botón con id="cerrar-sesion"
            // document.getElementById("cerrar-sesion").addEventListener("click", function() {
            //     localStorage.removeItem("usuario");
            //     localStorage.removeItem("correo");
            //     location.reload();
            // });
        });

        // Cambia la clase activa en el menú al hacer clic
        document.querySelectorAll('nav a').forEach(link => {
            link.addEventListener('click', function() {
                document.querySelectorAll('nav a').forEach(a => a.classList.remove('active'));
                this.classList.add('active');
            });
        });

        // Función para mostrar solo la sección seleccionada
        document.querySelectorAll('nav a').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                // Quitar clase activa de todos los enlaces
                document.querySelectorAll('nav a').forEach(a => a.classList.remove('active'));
                this.classList.add('active');
                // Ocultar todas las secciones principales por ID
                ['cartelera','peliculas','reservas','snacks','perfil','admin'].forEach(id => {
                    const sec = document.getElementById(id);
                    if(sec) sec.style.display = 'none';
                });
                // Ocultar el detalle de película si está abierto
                document.getElementById('detalle-pelicula').style.display = 'none';
                // Mostrar la sección correspondiente
                const id = this.getAttribute('href').replace('#', '');
                const section = document.getElementById(id);
                if(section) section.style.display = 'block';
            });
        });

        // Hacer que el logo muestre la cartelera al hacer clic
        document.getElementById('logo-btn').addEventListener('click', function(e) {
            e.preventDefault();
            ['cartelera','peliculas','reservas','snacks','perfil','admin'].forEach(id => {
                const sec = document.getElementById(id);
                if(sec) sec.style.display = 'none';
            });
            // Ocultar el detalle de película si está abierto
            document.getElementById('detalle-pelicula').style.display = 'none';
            document.getElementById('cartelera').style.display = 'block';
            // Opcional: desmarcar todos los menús activos
            document.querySelectorAll('nav a').forEach(a => a.classList.remove('active'));
        });

        // Animación de zoom en móvil al tocar la imagen
        document.querySelectorAll('.pelicula img, .snack img').forEach(img => {
            img.addEventListener('touchstart', function() {
                this.classList.add('img-zoom');
            });
            img.addEventListener('touchend', function() {
                setTimeout(() => this.classList.remove('img-zoom'), 300);
            });
            // Opcional: animación rápida al hacer click en desktop
            img.addEventListener('mousedown', function() {
                this.classList.add('img-zoom');
            });
            img.addEventListener('mouseup', function() {
                setTimeout(() => this.classList.remove('img-zoom'), 300);
            });
            img.addEventListener('mouseleave', function() {
                this.classList.remove('img-zoom');
            });
        });

        // Botón cerrar sesión: limpia datos y redirige al login
        document.getElementById("cerrar-sesion").addEventListener("click", function() {
            const btn = this;
            btn.disabled = true;
            btn.textContent = "Cerrando sesión...";
            // Confirmación antes de cerrar sesión
            setTimeout(() => {
                if (confirm("¿Seguro que deseas cerrar sesión?")) {
                    localStorage.removeItem("usuario");
                    localStorage.removeItem("correo");
                    window.location.href = "login.html";
                } else {
                    btn.disabled = false;
                    btn.textContent = "Cerrar sesión";
                }
            }, 400);
        });

        function cerrarSesion() {
            localStorage.removeItem('correo');
            window.location.href = "login.html";
        }

        // Evento para imagen, título y botón "Ver Detalles" en la tarjeta: SOLO abre el detalle grande
        document.querySelectorAll('#peliculas .pelicula img, #peliculas .pelicula h3, #peliculas .btn-detalles').forEach(el => {
            el.style.cursor = "pointer";
            el.addEventListener('click', function() {
                const card = this.closest('.pelicula');
                mostrarDetallePelicula(obtenerDatosPelicula(card));
            });
        });

        // Función para cerrar el detalle de la película
        function cerrarDetallePelicula() {
            document.getElementById('detalle-pelicula').style.display = 'none';
        }

        // Ejemplo de cómo abrir el detalle de una película (puedes vincularlo a un botón o evento específico)
        document.querySelectorAll('#peliculas .pelicula h3').forEach(titulo => {
            titulo.addEventListener('click', function() {
                const pelicula = this.closest('.pelicula');
                document.getElementById('detalle-titulo').textContent = pelicula.querySelector('h3').textContent;
                document.getElementById('detalle-info').textContent = "Género | Duración | Clasificación"; // Aquí puedes poner la info real
                document.getElementById('detalle-sinopsis').textContent = "Sinopsis de " + pelicula.querySelector('h3').textContent;
                document.getElementById('detalle-director').textContent = "Director de " + pelicula.querySelector('h3').textContent;
                document.getElementById('detalle-img').src = pelicula.querySelector('img').src;
                document.getElementById('detalle-pelicula').style.display = 'block';
            });
        });

        function mostrarDetallePelicula(datos) {
            // Oculta todas las secciones principales
            ['cartelera','peliculas','reservas','snacks','perfil','admin'].forEach(id => {
                const sec = document.getElementById(id);
                if(sec) sec.style.display = 'none';
            });
            document.getElementById('detalle-pelicula').style.display = 'block';
            document.getElementById('detalle-img').src = datos.img;
            document.getElementById('detalle-titulo').textContent = datos.titulo;
            document.getElementById('detalle-info').textContent = datos.info;
            document.getElementById('detalle-sinopsis').textContent = datos.sinopsis;
            document.getElementById('detalle-director').textContent = datos.director || "-";
            document.getElementById('detalle-formatos').textContent = datos.formatos || "REGULAR, 3D, 2D, PRIME, XTREME";
        }
        // Agrega el botón "Ver Detalles" a cada película en la sección Películas
        document.querySelectorAll('#peliculas .pelicula').forEach(card => {
            if (!card.querySelector('.btn-detalles')) {
                card.querySelector('.btn').insertAdjacentHTML('afterend', `
                    <button class="btn btn-detalles" style="background:#113cfc; margin-top:0.7rem;">Ver Detalles</button>
                `);
            }
        });

        // Evento para los botones "Ver Detalles" en las tarjetas de películas
        document.querySelectorAll('#peliculas .btn-detalles').forEach(btn => {
            btn.addEventListener('click', function() {
                const card = this.closest('.pelicula');
                const titulo = card.querySelector('h3').textContent;
                let datos = {};
                if (titulo.includes("Lilo y Stitch")) {
                    datos = {
                        img: "liloystitch.jpg",
                        titulo: "Lilo y Stitch",
                        info: "Familiar | 1h 40min | APT",
                        sinopsis: 'Remake de acción real del clásico animado de Disney "Lilo y Stitch".',
                        director: "-",
                        formatos: "REGULAR, 3D, 2D, PRIME, XTREME"
                    };
                } else if (titulo.includes("Misión Imposible")) {
                    datos = {
                        img: "misionimposible.jpg",
                        titulo: "Misión Imposible",
                        info: "Acción | 2h 51min | +14",
                        sinopsis: "Ethan Hunt y su equipo enfrentan su misión más peligrosa hasta ahora.",
                        director: "Christopher McQuarrie",
                        formatos: "REGULAR, 2D, PRIME"
                    };
                } else if (titulo.includes("Destino Final")) {
                    datos = {
                        img: "destinofinal.jpg",
                        titulo: "Destino Final",
                        info: "Terror | 1h 49min | +14",
                        sinopsis: "Un grupo de jóvenes escapa de la muerte, pero esta los persigue uno a uno.",
                        director: "-",
                        formatos: "REGULAR, 2D"
                    };
                } else if (titulo.includes("28 Años Despues")) {
                    datos = {
                        img: "28añosdespues.jpg",
                        titulo: "28 Años Despues",
                        info: "Acción - Terror | 1h 50min | +16",
                        sinopsis: "Secuela de la saga de zombies que revolucionó el género.",
                        director: "-",
                        formatos: "REGULAR, 2D"
                    };
                } else if (titulo.includes("Karate Kid")) {
                    datos = {
                        img: "karatekid.jpg",
                        titulo: "Karate Kid",
                        info: "Acción | 1h 53min | ATP",
                        sinopsis: "Un joven aprende artes marciales para defenderse y encontrar su camino.",
                        director: "-",
                        formatos: "REGULAR, 2D"
                    };
                } else if (titulo.includes("El Amateour")) {
                    datos = {
                        img: "elamateour.jpg",
                        titulo: "El Amateour",
                        info: "Drama | 1h 40min | +14",
                        sinopsis: "Historia de superación y pasión por el deporte.",
                        director: "-",
                        formatos: "REGULAR"
                    };
                } else if (titulo.includes("Thunderbolts")) {
                    datos = {
                        img: "thunderbolts.jpg",
                        titulo: "Thunderbolts",
                        info: "Acción | 2h 10min | +14",
                        sinopsis: "Un grupo de antihéroes se une para una misión secreta.",
                        director: "-",
                        formatos: "REGULAR, 2D"
                    };
                } else if (titulo.includes("Minicraft")) {
                    datos = {
                        img: "minecraft.jpg",
                        titulo: "Minicraft",
                        info: "Aventura | 1h 45min | ATP",
                        sinopsis: "La aventura basada en el famoso videojuego de bloques.",
                        director: "-",
                        formatos: "REGULAR, 2D"
                    };
                } else if (titulo.includes("La Leyenda de Ochi")) {
                    datos = {
                        img: "leyendadeochi.jpg",
                        titulo: "La Leyenda de Ochi",
                        info: "Fantasía | 2h | ATP",
                        sinopsis: "Un mundo mágico y criaturas legendarias esperan ser descubiertas.",
                        director: "-",
                        formatos: "REGULAR, 2D"
                    };
                }
                mostrarDetallePelicula(datos);
            });
        });

        // Elimina los eventos antiguos que muestran el alert en los botones "Comprar"
document.querySelectorAll('#peliculas .pelicula .btn-comprar').forEach(btn => {
    // Remueve todos los event listeners previos (si es posible)
    btn.replaceWith(btn.cloneNode(true));
});

        // Agrega el evento correcto para abrir el flujo de compra
        document.querySelectorAll('#peliculas .pelicula .btn-comprar').forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.stopPropagation();
                const card = this.closest('.pelicula');
                const titulo = card.querySelector('h3').textContent;
                abrirModalCompra(titulo);
            });
        });

        // --- RESALTAR TARJETA Y MOSTRAR BOTONES SOBRE LA IMAGEN ---
        document.querySelectorAll('#peliculas .pelicula img').forEach(img => {
            img.addEventListener('click', function(e) {
                e.stopPropagation();
                // Quitar resaltado de todas las tarjetas
                document.querySelectorAll('#peliculas .pelicula').forEach(card => card.classList.remove('resaltada'));
                // Resaltar la tarjeta actual
                const card = this.closest('.pelicula');
                card.classList.add('resaltada');
                // Cerrar resaltado al hacer click fuera
                document.addEventListener('click', function fuera(ev) {
                    if (!card.contains(ev.target)) {
                        card.classList.remove('resaltada');
                        document.removeEventListener('click', fuera);
                    }
                });
            });
        });

        // Opcional: los botones sobre la imagen no abren el detalle si solo quieres el efecto visual
        document.querySelectorAll('#peliculas .pelicula .btn-detalles').forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.stopPropagation();
                const card = this.closest('.pelicula');
                mostrarDetallePelicula(obtenerDatosPelicula(card));
                card.classList.remove('resaltada');
            });
        });
        document.querySelectorAll('#peliculas .pelicula .btn-comprar').forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.stopPropagation();
                const card = this.closest('.pelicula');
                const titulo = card.querySelector('h3').textContent;
                abrirModalCompra(titulo);
            });
        });

        // --- MODAL DE COMPRA DE ENTRADAS ---
const funcionesPorPelicula = {
  "Lilo y Stitch": [
    {fecha:"28/05/2025", hora:"15:00", sala:"7", formato:"2D, REGULAR, DOBLADA"},
    {fecha:"28/05/2025", hora:"16:30", sala:"7", formato:"2D, REGULAR, DOBLADA"},
    {fecha:"28/05/2025", hora:"18:00", sala:"7", formato:"2D, REGULAR, DOBLADA"},
    {fecha:"28/05/2025", hora:"19:30", sala:"7", formato:"2D, REGULAR, DOBLADA"},
    {fecha:"28/05/2025", hora:"21:00", sala:"7", formato:"2D, REGULAR, DOBLADA"},
    {fecha:"28/05/2025", hora:"22:30", sala:"7", formato:"2D, REGULAR, DOBLADA"}
  ],
  "Misión Imposible": [
    {fecha:"28/05/2025", hora:"15:00", sala:"2", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"16:30", sala:"2", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"18:00", sala:"2", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"19:30", sala:"2", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"21:00", sala:"2", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"22:30", sala:"2", formato:"2D, REGULAR"}
  ],
  "Destino Final": [
    {fecha:"28/05/2025", hora:"15:00", sala:"3", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"16:30", sala:"3", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"18:00", sala:"3", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"19:30", sala:"3", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"21:00", sala:"3", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"22:30", sala:"3", formato:"2D, REGULAR"}
  ],
  "28 Años Despues": [
    {fecha:"28/05/2025", hora:"15:00", sala:"4", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"16:30", sala:"4", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"18:00", sala:"4", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"19:30", sala:"4", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"21:00", sala:"4", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"22:30", sala:"4", formato:"2D, REGULAR"}
  ],
  "Karate Kid": [
    {fecha:"28/05/2025", hora:"15:00", sala:"5", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"16:30", sala:"5", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"18:00", sala:"5", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"19:30", sala:"5", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"21:00", sala:"5", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"22:30", sala:"5", formato:"2D, REGULAR"}
  ],
  "El Amateour": [
    {fecha:"28/05/2025", hora:"15:00", sala:"6", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"16:30", sala:"6", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"18:00", sala:"6", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"19:30", sala:"6", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"21:00", sala:"6", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"22:30", sala:"6", formato:"2D, REGULAR"}
  ],
  "Thunderbolts": [
    {fecha:"28/05/2025", hora:"15:00", sala:"8", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"16:30", sala:"8", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"18:00", sala:"8", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"19:30", sala:"8", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"21:00", sala:"8", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"22:30", sala:"8", formato:"2D, REGULAR"}
  ],
  "Minicraft": [
    {fecha:"28/05/2025", hora:"15:00", sala:"9", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"16:30", sala:"9", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"18:00", sala:"9", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"19:30", sala:"9", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"21:00", sala:"9", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"22:30", sala:"9", formato:"2D, REGULAR"}
  ],
  "La Leyenda de Ochi": [
    {fecha:"28/05/2025", hora:"15:00", sala:"10", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"16:30", sala:"10", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"18:00", sala:"10", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"19:30", sala:"10", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"21:00", sala:"10", formato:"2D, REGULAR"},
    {fecha:"28/05/2025", hora:"22:30", sala:"10", formato:"2D, REGULAR"}
  ]
};

let funcionSeleccionada = null;
let asientosSeleccionados = [];
let peliculaActual = "";

function abrirModalCompra(titulo) {
  document.getElementById('modal-compra').style.display = 'flex';
  document.getElementById('paso-funciones').style.display = 'block';
  document.getElementById('paso-asientos').style.display = 'none';
  document.getElementById('paso-resumen').style.display = 'none';
  document.getElementById('paso-pago').style.display = 'none'; // <-- Oculta el paso de pago
  funcionSeleccionada = null;
  asientosSeleccionados = [];
  peliculaActual = titulo;
  // Mostrar funciones
  const lista = document.getElementById('funciones-lista');
  lista.innerHTML = '';
  (funcionesPorPelicula[titulo] || []).forEach((f, i) => {
    const div = document.createElement('div');
    div.innerHTML = `
      <label style="display:block; margin-bottom:0.7rem; cursor:pointer;">
        <input type="radio" name="funcion" value="${i}" style="margin-right:0.7rem;">
        <b>${f.fecha}</b> - ${f.hora} - Sala ${f.sala} <span style="color:#00539b;">(${f.formato})</span>
      </label>
    `;
    lista.appendChild(div);
  });
  document.getElementById('btn-siguiente-funcion').disabled = true;
  lista.querySelectorAll('input[type=radio]').forEach(radio => {
    radio.addEventListener('change', function() {
      funcionSeleccionada = funcionesPorPelicula[titulo][parseInt(this.value)];
      document.getElementById('btn-siguiente-funcion').disabled = false;
    });
  });
}

// Cerrar modal
document.getElementById('cerrar-modal-compra').onclick = () => {
  document.getElementById('modal-compra').style.display = 'none';
};

// Siguiente: mostrar asientos
document.getElementById('btn-siguiente-funcion').onclick = () => {
  document.getElementById('paso-funciones').style.display = 'none';
  document.getElementById('paso-asientos').style.display = 'block';
  renderAsientos();
};

// Renderizar asientos (ejemplo simple)
function renderAsientos() {
  const filas = ['A','B','C','D','E','F','G','H','I','J','K'];
  const asientosPorFila = [12,12,12,10,12,12,12,12,12,10,8];
  const ocupados = ['B5','C7','F3','H10','K2']; // Ejemplo de ocupados
  const ruedas = ['D10']; // Ejemplo de silla de ruedas
  asientosSeleccionados = [];
  const cont = document.getElementById('asientos-container');
  cont.innerHTML = `
    <div style="display:flex; flex-direction:column; align-items:center;">
      <div style="text-align:center; font-weight:bold; margin-bottom:1rem; font-size:1.2rem; color:#bbb; width:100%;">
        <span style="display:inline-block; width:100%; text-align:center;">Pantalla</span>
        <div style="height:8px; background:#eee; border-radius:4px; margin:0.3rem auto 1.2rem auto; width:80%; max-width:420px;"></div>
      </div>
      <div id="asientos-matriz" style="display:flex; flex-direction:column; align-items:center;">
      </div>
    </div>
  `;
  const matriz = cont.querySelector('#asientos-matriz');
  filas.forEach((fila, idx) => {
    const row = document.createElement('div');
    row.style.display = 'flex';
    row.style.alignItems = 'center';
    row.style.justifyContent = 'center';
    row.style.marginBottom = '0.5rem';
    // Letra de fila a la izquierda
    const labelLeft = document.createElement('span');
    labelLeft.textContent = fila;
    labelLeft.style.marginRight = '1rem';
    labelLeft.style.color = '#00539b';
    labelLeft.style.width = '1.5rem';
    labelLeft.style.textAlign = 'right';
    row.appendChild(labelLeft);
    // Asientos
    for(let i=1; i<=asientosPorFila[idx]; i++) {
      const id = fila+i;
      const ocupado = ocupados.includes(id);
      const esRueda = ruedas.includes(id);
      const btn = document.createElement('button');
      btn.type = 'button';
      btn.style.cssText = `
        width:28px;height:28px;border-radius:50%;margin:0 4px;
        border:2px solid #00539b; background:#fff; cursor:pointer; position:relative;
        display:flex;align-items:center;justify-content:center;
      `;
      btn.title = id;
      btn.disabled = ocupado;
      btn.dataset.id = id;
      if(ocupado) {
        btn.style.background = '#e94560';
        btn.style.borderColor = '#e94560';
        btn.style.cursor = 'not-allowed';
      }
      if(esRueda) {
        btn.innerHTML = '<i class="fa fa-wheelchair" style="color:#00539b;font-size:1rem;"></i>';
      }
      btn.onclick = function() {
        if(btn.classList.contains('seleccionado')) {
          btn.classList.remove('seleccionado');
          btn.style.background = '#fff';
          asientosSeleccionados = asientosSeleccionados.filter(a => a!==id);
        } else {
          btn.classList.add('seleccionado');
          btn.style.background = '#00539b';
          btn.style.color = '#fff';
          asientosSeleccionados.push(id);
        }
        document.getElementById('btn-confirmar-compra').disabled = asientosSeleccionados.length===0;
      };
      row.appendChild(btn);
    }
    // Letra de fila a la derecha
    const labelRight = document.createElement('span');
    labelRight.textContent = fila;
    labelRight.style.marginLeft = '1rem';
    labelRight.style.color = '#00539b';
    labelRight.style.width = '1.5rem';
    labelRight.style.textAlign = 'left';
    row.appendChild(labelRight);
    matriz.appendChild(row);
  });
  document.getElementById('btn-confirmar-compra').disabled = true;
}

// Confirmar compra: mostrar resumen antes de ir a pago
document.getElementById('btn-confirmar-compra').onclick = () => {




  // Oculta paso asientos, muestra resumen
  document.getElementById('paso-asientos').style.display = 'none';
  document.getElementById('paso-resumen').style.display = 'block';

  // Datos de la película
  const datos = obtenerDatosPeliculaPorTitulo(peliculaActual);

  // Imagen
  document.getElementById('resumen-img').src = datos.img || '';
  // Título

  document.getElementById('resumen-titulo').textContent = peliculaActual;
  // Género (usa info hasta el primer "|")
  document.getElementById('resumen-genero').textContent = datos.info ? datos.info.split('|')[0].trim() : '';
  // Función
  document.getElementById('resumen-funcion').textContent = funcionSeleccionada ? `${funcionSeleccionada.fecha} - ${funcionSeleccionada.hora}` : '';
  // Sala (de la función seleccionada)
  document.getElementById('resumen-sala').textContent = funcionSeleccionada ? funcionSeleccionada.sala : '';
  // Asientos
  document.getElementById('resumen-asientos').textContent = asientosSeleccionados.join(', ');

  // Efecto parpadeo en sala
  const salaSpan = document.getElementById('resumen-sala');
  salaSpan.style.animation = "salaBlink 1s 2";
  setTimeout(()=>{ salaSpan.style.animation = ""; }, 2000);
};

// Ir a pago
document.getElementById('btn-confirmar-pago').onclick = () => {
  document.getElementById('paso-resumen').style.display = 'none';
  document.getElementById('paso-pago').style.display = 'block';
};

// Métodos de pago
document.getElementById('pago-yape').onclick = function() {
  document.getElementById('contenedor-yape').style.display = 'block';
  document.getElementById('form-tarjeta').style.display = 'none';
};
document.getElementById('pago-tarjeta').onclick = function() {
  document.getElementById('contenedor-yape').style.display = 'none';
  document.getElementById('form-tarjeta').style.display = 'block';
};

// Validación simple del formulario de tarjeta
document.getElementById('form-tarjeta').onsubmit = function(e) {
  e.preventDefault();
  alert('¡Pago realizado con tarjeta! Recibirás la confirmación en tu correo.');
  document.getElementById('modal-compra').style.display = 'none';
};

function obtenerDatosPeliculaPorTitulo(titulo) {
  // Puedes agregar más películas si lo necesitas
  if (titulo.includes("Lilo y Stitch")) {
    return {
      img: "liloystitch.jpg",
      info: "Familiar | 1h 40min | APT"
    };
  } else if (titulo.includes("Misión Imposible")) {
    return {
      img: "misionimposible.jpg",
      info: "Acción | 2h 51min | +14"
    };
  } else if (titulo.includes("Destino Final")) {
    return {
      img: "destinofinal.jpg",
      info: "Terror | 1h 49min | +14"
    };
  } else if (titulo.includes("28 Años Despues")) {
    return {
      img: "28añosdespues.jpg",
      info: "Acción - Terror | 1h 50min | +16"
    };
  } else if (titulo.includes("Karate Kid")) {
    return {
      img: "karatekid.jpg",
      info: "Acción | 1h 53min | ATP"
    };
  } else if (titulo.includes("El Amateour")) {
    return {
      img: "elamateour.jpg",
      info: "Drama | 1h 40min | +14"
    };
  } else if (titulo.includes("Thunderbolts")) {
    return {
      img: "thunderbolts.jpg",
      info: "Acción | 2h 10min | +14"
    };
  } else if (titulo.includes("Minicraft")) {
    return {
      img: "minecraft.jpg",
      info: "Aventura | 1h 45min | ATP"
    };
  } else if (titulo.includes("La Leyenda de Ochi")) {
    return {
      img: "leyendadeochi.jpg",
      info: "Fantasía | 2h | ATP"
    };
  }
  return { img: "", info: "" };
}
// Hacer que el botón "Comprar" del detalle de película funcione igual que el botón flotante
document.getElementById('detalle-comprar').addEventListener('click', function() {
    const titulo = document.getElementById('detalle-titulo').textContent;
    abrirModalCompra(titulo);
    // Opcional: cerrar el detalle al abrir el modal de compra
    document.getElementById('detalle-pelicula').style.display = 'none';
});
    </script>
    <script>
  // Formatea el número de tarjeta con espacios cada 4 dígitos
  document.getElementById('num-tarjeta').addEventListener('input', function(e) {
    let value = this.value.replace(/\D/g, ''); // Solo números
    value = value.substring(0,16); // Máximo 16 dígitos
    let formatted = '';
    for (let i = 0; i < value.length; i += 4) {
      if (i > 0) formatted += ' ';
      formatted += value.substring(i, i + 4);
    }
    this.value = formatted;
  });

  // Formatea el vencimiento MM/AA automáticamente
  document.getElementById('vencimiento').addEventListener('input', function(e) {
    let value = this.value.replace(/\D/g, ''); // Solo números
    if (value.length === 0) {
      this.value = '';
    } else if (value.length === 1) {
      // Si el primer dígito es mayor a 1, anteponer 0
      if (parseInt(value) > 1) {
        this.value = '0' + value + '/';
      } else {
        this.value = value;
      }
    } else if (value.length === 2) {
      // Si el mes es válido, agregar la barra
      let mes = parseInt(value);
      if (mes === 0) mes = 1;
      if (mes > 12) mes = 12;
      this.value = (mes < 10 ? '0' : '') + mes + '/';
    } else if (value.length > 2) {
      let mes = parseInt(value.substring(0,2));
      if (mes === 0) mes = 1;
      if (mes > 12) mes = 12;
      let anio = value.substring(2,4);
      this.value = (mes < 10 ? '0' : '') + mes + '/' + anio;
    }
  });
</script>
<script>
// filepath: e:\cinerama\cinerama-1\inicio.html
document.addEventListener("DOMContentLoaded", function() {
  const slider = document.querySelector('.cartelera-slider');
  const slides = document.querySelectorAll('.cartelera-slide');
  if (!slider || slides.length < 2) return;

  let current = 0;
  const slideWidth = slides[0].offsetWidth + parseInt(getComputedStyle(slider).gap || 0);
  let interval = setInterval(nextSlide, 3500);

  function nextSlide() {
    current++;
    if (current >= slides.length) {
      current = 0;
    }
    slider.scrollTo({
      left: slideWidth * current,
      behavior: 'smooth'
    });
  }

  // Opcional: pausa el autoplay si el usuario pasa el mouse
  slider.addEventListener('mouseenter', () => clearInterval(interval));
  slider.addEventListener('mouseleave', () => interval = setInterval(nextSlide, 3500));
});
</script>
</body>
</html>